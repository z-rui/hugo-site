---
date: 2018-07-20T00:00:00+08:00
title: 概率问题二则
---

问题一： 设 \\(X\_i\\) (\\(i=1,2,\dots,N\\)) 为相互独立的**离散**随机变量，
取值为整数， 且服从 \\([0,M)\\) 上的均匀分布。
求 \\(\Pr(X\_1\<X\_2\<\dots\<X\_N)\\)。

**解** <!--more-->
设 \\(P\_n(x) = \Pr(X\_1 < X\_2 < \cdots < X\_n < x)\\) \\((0 \leq x < M)\\)。
对 \\(X\_n\\) 分类讨论，根据全概率公式，

\\[
P\_n(x) = \sum\_{k=0}^{M-1} \Pr(X\_n=k) \Pr(X\_1\<X\_2\<\cdots\<X\_{n-1}\<k\<x).
\\]
其中， \\(\Pr(X\_n=k)={1\over M}\\)， 且
\\[
\Pr(X\_1\<X\_2\<\cdots\<X\_{n-1}\<k\<x) = \cases{
P\_{n-1}(k)& $0\leq k\<x$,\cr
0& $x\leq k\<M$.
}
\\]
故
\\[
P\_n(x) = {1\over M}\sum\_{k=0}^{x-1} P\_{n-1}(k).
\\]

此为递归式。 结合初始条件 \\(P\_1(x)=\Pr(X\_1\<x) = {x\over M}\\)，
根据[朱世杰恒等式]， 递推可得
\\[
P\_N(x) = {{x\choose N}\over M^N}.
\\]
问题中所要求的概率为 \\(P\_N(M)={{M\choose N}\over M^N}\\)。

此题有组合学的解法： M 个数中取 N 个不重复 （因所求概率中为严格不等号）
的数字， 共 \\(M\choose N\\) 种取法， 每种取法对应一个升序序列， 此为分子。
另一方面， M 个数中取 N 个 （放回取样） 数共有 \\(M^N\\) 种取法， 此为分母。 即得答案。

[朱世杰恒等式]: https://zh.wikipedia.org/wiki/%E6%9C%B1%E4%B8%96%E6%9D%B0%E6%81%92%E7%AD%89%E5%BC%8F

---

问题二： 同问题一， 但 \\(X\_i\\) 为**连续**随机变量， 取值为实数。

**解**
直观上此题答案应与 \\(M\\) 无关， 下面设法求解。
设 \\(P\_n(x) = \Pr(X\_1 < X\_2 < \cdots < X\_n < x)\\) \\((0 \leq x < M)\\)。
对 \\(X\_n\\) 分类讨论，根据全概率公式，
\\[
P\_n(x) = \int\_{0}^{M} f\_{X\_n}(t) \Pr(X\_1\<X\_2\<\cdots\<X\_{n-1}\<t\<x)\;
{\rm d}t.
\\]
其中， \\(f\_{X\_n}(t)={1\over M}\\) 为 \\(X\_n\\) 的概率密度函数， 且
\\[
\Pr(X\_1\<X\_2\<\cdots\<X\_{n-1}\<t\<x) = \cases{
P\_{n-1}(t)& $0\leq t\<x$,\cr
0& $x\leq t\<M$.
}
\\]
故
\\[
P\_n(x) = {1\over M}\int\_{0}^{x} P\_{n-1}(t)\;{\rm d}t.
\\]
此为递归式。 结合初始条件 \\(P\_1(x)=\Pr(X\_1\<x) = {x\over M}\\)， 递推可得
\\[
P\_N(x) = {x^N\over N!\,M^N}.
\\]
问题中所要求的概率为 \\(P\_N(M)={1\over N!}\\)。

和这个答案相关有一些巧合供思考：

1. 在第一题的答案中取 \\(M\to\infty\\) 的极限可得 \\(1\over N!\\)；
2. 将 N 个互不相同的数随机排列， 恰好构成升序序列的概率， 也是 \\(1\over N!\\)。
