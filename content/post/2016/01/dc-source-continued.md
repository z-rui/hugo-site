---
date: 2016-01-26T20:28:00+08:00
title: 自制直流电源(续)
---

最近备齐了一些组件，开始尝试把他们组装起来，做成一个可调的直流电源。

首先，供电部分暂时采用笔记本附带的电源适配器，参数为20V 3.25A。输出接口是联想专用的方口，其格式为外负内正中信号，母座如下图所示。

{{< figure src="/media/dc-source/lenovo.png" >}}

使用方口母座引出直流电源的正负极，将它接到直流调压板上，其结构如下图所示。

{{< figure src="/media/dc-source/dcdc.png" >}}

直流调压版使用LTC 3780芯片进行自动升降压，相关参数为

* 输入电压Vi：5-32V.
* 输出电压Vo：1-30V.
* 输出电流：8A (10A MAX).
* 输出功率：80W (130W MAX).
* 纹波：50mV (12V - 12V 5A).

<!--more-->

这个调压板工作模式称为恒流恒压模式，意思是：当电流将要超出预设值的时候，将电流稳定在预设值（因此输出电压降低）；否则，将电压稳定在预设值。在开路时调节CV和在短路时调节CC即可改变预设值，也可以在带负载的时候调节。此外，调节UV可以使得调压板在输入电压低于设定值的时候停止工作，当采用蓄电池供电时，这样可以避免电池过度放电。

接着，连接直流表头。我之前买了一个四线制的表头，现在发现存在这样的一个问题：表头的工作电压是6.5-100V，不能使用独立电源供电，所以，一旦我将电压调整到6.5V以下，表头将不工作。因为我需要将输出电压调整为5V以便给USB设备供电，这个表头无法满足我的需求。所以我又换了一个五线制的表头，这个表的型号是BY42A，其结构如下。

{{< figure src="/media/dc-source/meter.png" >}}

图中，Uadj和Iadj是电流电压校准旋钮。Irst短接数秒后可以将电流表示数归零。

* 供电电压V：3.8-30V
* 测量电压U：0-30V
* 测量电流I：0-10A

五线制的表头，既可以直接使用负载的电源供电，也可以采用独立的电源供电。建议使用的供电电压为5V。两种接线方法如下图所示。

{{< figure src="/media/dc-source/meter-connection.png" >}}

我采取的是第二种接法，供电电源直接接在电源适配器的20V输出上（这个电压可能偏高了），这样，即便输出电压非常低，也不影响读数。

表头连接完毕后，可以连接负载了，我用鳄鱼夹连线把表头上的引线和一块DC-USB转接板连在了一起。这个转接板本来是用于转换4mm的DC接口和USB接口的，因为我有一个5V 3A的台达电源，它的输出是4mm的DC接口。转接板USB接口的D+ D-端是短路的，这样可以使一些设备以1.5A的电流充电，例如我的手机。

不过，中间还要连接两件东西。第一个是QC2.0升压板，其示意图如下。

{{< figure src="/media/dc-source/qc20.png" >}}

该升压板使用FP6719芯片，可以将3-5V的输入电压升至5V，如果接上支持QC2.0协议的设备，在供电充足的情况下，还可以升压到9V和12V，实现大功率供电。即便设备不支持QC2.0协议，它也可以兼容许多高速充电模式，在5V电压下提供最高2A的电流。

另一件东西是USB电压电流表，输入电压在4-24V都可以工作，输入电流最大值为3A，分辨率达到0.1mV和0.1mA，还具有电量计算等功能。用它可以实时监测USB接口的充电状态。

上述物件都连接好之后，就可以通电使用了。工作状态如下图所示，可以看出QC2.0识别成功，正在以9V 1.67A为手机充电，而调压板的输出可以从直流表头读出，约为5V 3A。

{{< figure src="/media/dc-source/working.jpg" >}}

