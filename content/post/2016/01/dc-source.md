---
date: 2016-01-19T21:20:00+08:00
title: 自制直流电源
---

怎么想到要自制（就是自己组装的意思）直流电源的呢，说来话长。首先是我的手机支持QC2.0快速充电协议，只能用原装的充电器来快速充电。理论上，用普通的5V 2A充电器也可以以较快的速度充电，但事实是充电非常慢（事后证明其实是USB线的问题，唉）。于是我开始寻找问题的解决方案。

找啊找，慢慢地就偏离了原来的方向，先后买了一条QC2.0的升压板，一个台达5V 3A电源适配器，一个USB电压电流表。下面依次道来。

<!--more-->

升压板用了[FP6719集成电路](http://www.chongdiantou.com/thread-4454-1-1.html)，可以将3-5V的电压升压至5V，或者在连接支持QC2.0设备时升压到9V或12V，实现快速充电。这个板子非常合我心意，如果哪天我心血来潮想自制一个移动电源，那么只要把锂电池连上这块板子，就得到一个非常先进的快速充电移动电源，目前市面上还不多见。

买台达5V 3A电源是因为为了给我的手机以快速充电，需要一个大功率的电源。虽然说我的移动电源两个输出口分别是2A和1A，加起来也能有15W，用一根一母二公的USB连接线应该可以解决问题。不过因为自己作死，想试试把升压板直接插输出端口上，看看移动电源有没有什么保护措施。结果移动电源烧了。连接台达电源后，升压板可以以9V 1.67A的速度给我的手机充电。对于不支持QC2.0的设备，这个升压板可以以5V 2A的功率工作。

USB电压电流表这个工具很有用。在此之前我总是被两个问题所困扰：

1. 我有一个不支持QC2.0的设备，使用我的手机充电器（铭牌上写着支持9V 1.67A和5V 2A两种模式）给它充电，速度非常慢，以至于必须关机充电电池电量才会上升。
2. 我用我的移动电源的2A输出口给我的手机充电，充电速度也非常慢。

用USB电压电流表一测试，真相大白：在上述两种情况下，充电电流只有0.5A，而没有达到标示的2A。经过一番试验，发现竟然是USB线的问题。换了一条索尼设备附赠的数据线（短线），问题解决。

现在我把USB电压电流表装在升压板的输出端口，用来检测充电状态。

那么和直流电源怎么扯上关系的呢？在焊接升压板的过程中，我发现我的廉价焊台总是发出令人不悦的噪声。因为没有办法直接进行维修（1)没有经验 2)没有备用的焊接工具），为了避免噪声，我又有了自制一个T12控制器的想法。紧接着我就意识到，控制器=控制电路+直流电源。控制电路一大把，可以随便慢慢挑。目前看来直流电源是一个比较有意思的课题。

市面上的直流稳压电源，一般是工频变压器+稳压电路。工频变压器比较笨重，占地方，放在工作台上显得稳重，倒是也没有什么问题，而且工作起来可靠性高。可是我更喜欢轻巧的东西，像我的笔记本电源适配器，20V 65W，拿在手里很轻松。所以我就产生了这样的想法：自制一个基于开关电源的直流电源。其实这样的想法，网上搜一下也能找到很多。淘宝上甚至有人做成了成品出售，也不过200元。

但是为了满足自己那么一点点的虚荣心，于是又开始计划起制作直流电源的事。我的最终目的是做出一个可调的直流电源，在功能上和市面上的直流稳压电源应该无异，性能上就不谈了。（我自己在纸上还画了相关的结构草图。写这篇文章之前尝试了在计算机上把它画成矢量图，后来作罢。感觉这样的事笔和纸更加方便。）

那么首先是交流转直流。这个部分，可以找现成的开关电源模块。经过一番搜索，我认为明纬LRS-100-24比较符合我的需求。我认为24V 100W是一个合适的参数。24V直流电压尚在安全电压范围内，但是电压也比较高，可以使用降压电路方便地调节到较低的电压(市面上单纯降压电路要多于自动升降压电路)。100W的功率也足够带动绝大多数的负载，例如T12的控制器。另外，100W功率的开关电源模块体积也相对较小，对便携性是一个较大的贡献。不过，我对开关电源并没有急切需要。我手里还有一个20V 65W的笔记本电源，可以用它先来顶替一下，把后级的调压电路调试正确之后，在根据实际需求考虑是否另外购买开关电源模块。

接下来是直流调压部分。这一部分可以选择降压电路或者自动升降压电路。因为24V的电压本身已经比较高，我的笔记本使用20V电压，很多设备使用12V的电压，而USB输出是5V的电压，所以用降压电路应该就可以满足需要。尽管如此，我计划采用的是应用了[LTC3780集成电路](http://www.linear.com.cn/product/LTC3789)的自动升降压电路，如此一来，一方面电压调节范围更加宽，另一方面对于供电的要求就比较宽松，甚至可以采用蓄电池来供电。还有一个原因是这个电路能实现恒压恒流功能，兴许还可以把它用于电池充电；这样连买电池充电器也可以省了。我打算使用的成品电路能调节的电压大约是1~30V，能满足我的需要；相关限制是：电流在8A以内，功率在80W以内，正好比较符合我的上一级供电的能力。

然后是直流表头，用来观察调压输出的电压和电流。我找到一款非常简单实用的直流表头，能实时显示电压、电流、功率等信息，量程为100V 20A，满足需求。这个表头的接线比较容易，只需接入输入端和输出端的正负极一共4条线就可以了，无需外部供电电源。唯一的不足是这个表头的价格较高，比其他型号的普通表头高出一倍多。我希望它的性能比较好一点吧。

从上面的描述可以看得出来，所有的东西其实都是现成的。我需要做的不过是浪费一些铅锡合金把他们连接到一起而已，并没有什么技术含量。由于知识所限，我现在并没有什么本事提出自己的设计，甚至连现成的电路也是没办法理解其原理的。下个学期会上一些开关电源设计的课程，到时候可能会对原理有一些了解。就现在而言，就是为了自己动手，图个开心而已。要不然，整天上课不知所以，对自己所学知识的广泛应用毫无所知，也不是什么好事。

不过，换一个角度看问题：文中所述的一些重要电路，它们的核心部分就是那么一颗集成电路，FP6719也好LTC3780也好，没有一颗是国内设计的，全都要依赖进口。外围的电阻电容之类，一块钱一大包，没有什么技术含量。设计和制作成品电路的人，当然是比较有水平的，需要经过试验才能做出一个比较好的效果，但是总的原理还是来自集成电路的说明书。如果那天我们不再只是应用现成的东西而能提出自己的设计，被它人广泛使用，那么我才觉得是水平提高了。

那么，如果直流电源做了出来，能做什么呢？我想到了一些应用举例。

1. 输出设置为5V，连接QC2.0升压板，升压板连接USB电压电流表，然后连接手机，可以实现快速充电。这下我的台达电源可以退休了。
2. 输出设置为笔记本的电压（例如19V或者20V），连接DC端子，插到笔记本电脑上为其供电。同理，可以给其他的电子设备供电。
3. 输出设置为合适的电压，连接T12控制器，就相当于一个自制的焊台。
4. 输出电压设置为4.2V，电流调整到合适的值，以恒流-恒压(CC-CV)的方式，给锂电池充电。据说这种情况下要在输出串联肖特基二极管，以防倒灌。
5. 输出调整到所需的电压，做一些简单的电学实验。或者在调试自制的电子作品的时候作为供电电源。

用途还是挺广泛的。各个模块之间相对也比较独立，如果有必要，完全可以分拆并重新组合，实现其他的功能。缺点么，就是结构有点复杂了。给手机充电，不如直接用原装的充电器来得省事。给笔记本供电也是如此。焊台不如买正规的、使用工频变压器的型号，更加可靠。给电池充电的效果显然不及专用的充电器。做电子实验可以用干电池或者蓄电池供电，电压更加平稳。总的来说，比较适合我这样喜欢折腾的人。


我大概估算了一下，整个装置应该可以装在200x120x75的盒子里。如果有合适的加工条件，可以考虑把它们装配起来，网上很多DIY作品展示的就是装配后的成果。

最后附送一张（绘制失败的）示意图。

{{< figure src="/media/dc-source-1.svg" >}}
