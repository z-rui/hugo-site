---
date: 2017-03-07T20:59:06+08:00
title: PDF 拼版技巧
---

我手头有一些 jpg 格式的图像文件。 我想把他们打印成 A5 尺寸的小册子。
如果打印机附带了将图像打印成小册子的功能， 那么直接使用即可。
否则， 比较方便的办法是将 jpg 汇集在一个 PDF 文件中， 拼版后交给打印机进行打印。

拼版之前需要确保每个页面的大小为 148mm x 210mm。 对于 300dpi 的图像而言， 即为
1748 x 2480。[^1] 可以使用 ImageMagick 对图像进行缩放：

```
$ magick img.jpg -set density 300   \
                 -resize 1748x2480  \
                 -unsharp 0x5+0.3+0 \
         img-300dpi.jpg
```

其中， `-unsharp` 选项用于对缩放后的图像进行钝化遮罩 (Unsharp Mask) 处理，
简单地说就是锐化图像， 抵消缩放所产生的模糊感。

使用 Acrobat 软件可以将若干张图像合成为单个 PDF。

观察一下小册子的印刷方式。 每张纸上印刷的页面并不是按照顺序排列的。
例如， 对于一份 8 页的小册子， 第一张纸正面印的是第 8 页和第 1 页，
反面印的是第 2 页和第 7 页； 第二张纸正面印的是第 6 页和第 3 页，
反面印的是第 4 页和第 5 页。 这样，将这两张纸叠在一起，
第 1 页的反面是第 2 页， 第 2 页和第 3 页恰好相对， 等等。
将所有纸张叠好， 并在中间装订， 然后对折，就构成了一本小册子。

对于上述的小册子， Acrobat 可以直接打印出来。 打开合成的 PDF 文件并按 “打印”，
在打印对话框中选择 “小册子”， 即可。

如果要用 A4 纸制作 A6 大小的小册子， 那么一张纸上需要拼 8 个版面。
仍以 8 页的小册子为例， 这时只需一张纸即可： 正面布置的版面为
\\({5\;4 \atop 8\;1}\\)， 反面布置的版面为 \\({3\;6 \atop 2\;7}\\)。
将这张纸正面朝外对折， 则反面的第 2、 3 页相对， 第 6、 7 页相对。
用一把裁纸刀沿着折痕将纸裁开， 保持对折时页面的相对位置，
然后令第 1、 8 页朝外， 将两个叠好的半张纸再次对折， 在折痕处装订，
就构成了小册子。

<!--more-->

我用 [PDFBooklet](http://pdfbooklet.sourceforge.net/) 软件来制作上述小册子。
这个软件使用起来可能不及商业拼版软件方便， 但是足够满足我的需求。

以印刷我最近使用 \\(\TeX\\) 排版的[对数表]
(https://github.com/z-rui/eightlog/releases/download/v1.0/log8.pdf)为例，
这个 PDF 文档的页面尺寸为 A6， 因此无需调整。
用 PDFBooklet 打开该文件， 选择默认的拼版方式 Single Booklet， 然后按 Go，
就生成了一张纸上拼 4 个版面的小册子文件 `bklt.pdf`， 这个文件的页面尺寸为 A5。
如果有 A5 的打印机和纸， 那么直接打印即可。 如果要在 A4 纸上打印，
可以做如下考虑：

  * 如果需要打印多份，那么在 A4 纸的每页上打印 2 个重复的 A5 版面，
    打印完毕后将所有页面沿着中间裁开， 即得到 2 份 A5 打印的结果。
    在 PDFBooklet 中打开 `bklt.pdf`， 然后选择 x copies， 并指定
    rows = 2, columns = 1, step = 1。
  * 如果只需要打印一份， 那么需要使用上述的拼版原理。 我的做法是：
    1. 在 PDFBooklet 中打开 `bklt.pdf`， 选择 Multiple Booklets， 并指定
       rows = 2, columns = 1, Leafs in a bootlet = 1。
    2. 在 Page Transformations 选项卡中， 选择 Even pages， 并设置
       Rotation = 180， 将 `bklt.pdf` 中的偶数页面旋转 180°。
    3. 按 Go， 生成 `bklt-bklt.pdf` 文件。
    4. 将 `bklt-bklt.pdf` 文件的偶数页面全部旋转 180°。 这个步骤可以用
       Acrobat 完成， 也可以用 PDFBooklet 完成。
       甚至， 如果使用手动双面打印， 只要你搞得清楚打印的方向，
       也可以省去这一步。 用 PDFBooklet 的方法为： 在 Layout 中选择 One Page，
       然后在 Page Transformations 选项卡中做和第 2 步相同的操作。

用第 2 种方案拼版完成后， 将打印出来的每张纸如前所述进行折叠和裁剪，
裁剪后先不必再次折叠， 而是对下一张纸继续进行折叠和裁剪。
全部裁剪完成后， 就产生了一叠 A5 大小的纸张。 将它们对折并装订就构成了小册子。

{{<figure src="/media/booklet-1.jpg" caption="装订好的小册子">}}

[^1]: 计算公式： 像素 = 毫米 ÷ 25.4 × DPI
